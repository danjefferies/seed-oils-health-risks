<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="https://usrtk.org/wp-content/themes/usrtk/img/favicon/apple-touch-icon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Seed Oil Explainer</title>
  </head>
  <body>
    <div id="app"></div>

    <section id="dropdown-interactive">
      <p>Although the U.S. is not the only country that consumes seed oils, the daily amount consumed per person is a rarity. See for yourself:</p>
      
        <select id="selectButton" onchange="showImage()">
          <option value="NULL">Select a country</option>
          <option value="brazil">Brazil</option>
          <option value="china">China</option>
          <option value="germany">Germany</option>
          <option value="israel">Israel</option>
          <option value="italy">Italy</option>
          <option value="japan">Japan</option>
          <option value="mexico">Mexico</option>
          <option value="morocco">Morocco</option>
          <option value="philippines">Philippines</option>
          <option value="spain">Spain</option>
          <option value="thailand">Thailand</option>
        </select>
      
      <div id="dropdown-charts">
          <img id="legend" src="img/legend.svg" style="height: 75vh; width: 25vh;" alt="Legend for a chart, ranging from green for saturated fat sources to red for polyunsaturated fat sources."/>
          <img class="bar-default" src="img/usa.svg" style="height: 75vh; width: 65vh;" alt="Bar chart of the U.S. oil consumption from 2010 to 2019. The average is between 600 to 700 calories per day, the vast majority being soybean oil."/>
      
        <script type="text/javascript">
          function showImage() {
            let dropdown = document.getElementById("dropdown-charts");
            let currentCountry = document.getElementById("selectButton").value;
            // handle removing last child
            if (dropdown.children.length > 1){
              dropdown.lastChild.remove();
            }
            // handle returning to "Select a country"
            if (currentCountry === "NULL"){
              return;
            }
            let currSource = `img/${currentCountry}.svg`;
            var newChart = document.createElement('img');
            newChart.setAttribute('src', currSource)
            newChart.setAttribute('style', 'height: 75vh; width: 65vh;')
            dropdown.appendChild(newChart);
          }
          
        </script>
      </section>

    <script type="module" src="/src/main.js"></script>
    <!-- <script src="https://d3js.org/d3.v4.js"></script> -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
  </body>
</html>
